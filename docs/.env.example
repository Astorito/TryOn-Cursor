# Example environment variables for TryOn (copy to .env and customize)

# Database
# IMPORTANT: For Supabase connection pooler (port 6543), add ?pgbouncer=true to avoid prepared statement errors
DATABASE_URL="postgresql://USER:PASSWORD@HOST:6543/DATABASE?pgbouncer=true"

# Prisma: disable prepared statements to avoid PgBouncer/connection-pool issues (REQUIRED for Supabase)
PRISMA_DISABLE_PREPARED_STATEMENTS=1

# FAL API key
FAL_KEY="your_fal_api_key_here"

# Redis (optional)
#REDIS_URL="rediss://:<password>@hostname:port"

# Other env vars...
ENABLE_RESULT_CACHE=false
R2_ACCOUNT_ID=
QUEUE_WORKER_CONCURRENCY=5

# JWT Configuration
JWT_SECRET="cambiar_esto_por_un_string_aleatorio_de_64_caracteres"
ADMIN_PASSWORD="cambiar_esto_por_un_password_seguro"

# Database (si es necesario)
# DATABASE_URL="your_database_url_here"

# ── AI Router config ──
PRIMARY_AI_PROVIDER="fal"        # fal | replicate
ENABLE_AI_FALLBACK="false"       # true | false
ENABLE_RESULT_CACHE="true"       # true | false
CACHE_TTL_HOURS="24"             # Horas que vive el cache

# ── Replicate (provider de fallback) ──
# REPLICATE_API_KEY="r8_tu_replicate_api_key_aqui"

# ── Cloudflare R2 (CDN propio) ──
# R2_ACCOUNT_ID="tu_account_id_de_cloudflare"
# R2_ACCESS_KEY_ID="tu_r2_access_key"
# R2_SECRET_ACCESS_KEY="tu_r2_secret_key"
# R2_BUCKET_NAME="tryon-results"
# R2_PUBLIC_URL="https://cdn.tudominio.com" # O usa el URL de Cloudflare